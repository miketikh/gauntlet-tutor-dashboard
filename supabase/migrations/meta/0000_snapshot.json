{
  "id": "da86ea7c-3fe3-41b1-b0ad-c97975a3b8d4",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.achievements": {
      "name": "achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tutor_id": {
          "name": "tutor_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_type": {
          "name": "achievement_type",
          "type": "achievement_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "earned_date": {
          "name": "earned_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "achievements_tutor_id_users_id_fk": {
          "name": "achievements_tutor_id_users_id_fk",
          "tableFrom": "achievements",
          "tableTo": "users",
          "columnsFrom": [
            "tutor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tutor_id": {
          "name": "tutor_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "alert_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_date": {
          "name": "triggered_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged": {
          "name": "acknowledged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "action_taken": {
          "name": "action_taken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alerts_tutor_id_users_id_fk": {
          "name": "alerts_tutor_id_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "tutor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alerts_session_id_sessions_id_fk": {
          "name": "alerts_session_id_sessions_id_fk",
          "tableFrom": "alerts",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "alerts_acknowledged_by_users_id_fk": {
          "name": "alerts_acknowledged_by_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.churn_algorithm_weights": {
      "name": "churn_algorithm_weights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "factor_category": {
          "name": "factor_category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "weight_check": {
          "name": "weight_check",
          "value": "\"churn_algorithm_weights\".\"weight\" >= 0 AND \"churn_algorithm_weights\".\"weight\" <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.churn_weight_history": {
      "name": "churn_weight_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by": {
          "name": "changed_by",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "change_reason": {
          "name": "change_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "case_study_session_id": {
          "name": "case_study_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "case_study_student_id": {
          "name": "case_study_student_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "old_weights": {
          "name": "old_weights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "new_weights": {
          "name": "new_weights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "accuracy_before": {
          "name": "accuracy_before",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "accuracy_after": {
          "name": "accuracy_after",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "churn_weight_history_changed_by_users_id_fk": {
          "name": "churn_weight_history_changed_by_users_id_fk",
          "tableFrom": "churn_weight_history",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "churn_weight_history_case_study_session_id_sessions_id_fk": {
          "name": "churn_weight_history_case_study_session_id_sessions_id_fk",
          "tableFrom": "churn_weight_history",
          "tableTo": "sessions",
          "columnsFrom": [
            "case_study_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "churn_weight_history_case_study_student_id_users_id_fk": {
          "name": "churn_weight_history_case_study_student_id_users_id_fk",
          "tableFrom": "churn_weight_history",
          "tableTo": "users",
          "columnsFrom": [
            "case_study_student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "accuracy_before_check": {
          "name": "accuracy_before_check",
          "value": "\"churn_weight_history\".\"accuracy_before\" >= 0 AND \"churn_weight_history\".\"accuracy_before\" <= 1"
        },
        "accuracy_after_check": {
          "name": "accuracy_after_check",
          "value": "\"churn_weight_history\".\"accuracy_after\" >= 0 AND \"churn_weight_history\".\"accuracy_after\" <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.session_audio_metrics": {
      "name": "session_audio_metrics",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "tutor_talk_ratio": {
          "name": "tutor_talk_ratio",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "student_talk_ratio": {
          "name": "student_talk_ratio",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "productive_silence_ratio": {
          "name": "productive_silence_ratio",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "awkward_pause_ratio": {
          "name": "awkward_pause_ratio",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "student_engagement_score": {
          "name": "student_engagement_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "tutor_enthusiasm_score": {
          "name": "tutor_enthusiasm_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_student_response_delay": {
          "name": "avg_student_response_delay",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "long_pauses_count": {
          "name": "long_pauses_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "student_initiated_questions": {
          "name": "student_initiated_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "student_frustration_count": {
          "name": "student_frustration_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "student_confusion_count": {
          "name": "student_confusion_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "positive_moments_count": {
          "name": "positive_moments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tutor_checks_understanding_count": {
          "name": "tutor_checks_understanding_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tutor_positive_reinforcement_count": {
          "name": "tutor_positive_reinforcement_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "concept_re_explanation_count": {
          "name": "concept_re_explanation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "open_ended_questions": {
          "name": "open_ended_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "closed_ended_questions": {
          "name": "closed_ended_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rhetorical_questions": {
          "name": "rhetorical_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_audio_metrics_session_id_sessions_id_fk": {
          "name": "session_audio_metrics_session_id_sessions_id_fk",
          "tableFrom": "session_audio_metrics",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "tutor_ratio_check": {
          "name": "tutor_ratio_check",
          "value": "\"session_audio_metrics\".\"tutor_talk_ratio\" >= 0 AND \"session_audio_metrics\".\"tutor_talk_ratio\" <= 1"
        },
        "student_ratio_check": {
          "name": "student_ratio_check",
          "value": "\"session_audio_metrics\".\"student_talk_ratio\" >= 0 AND \"session_audio_metrics\".\"student_talk_ratio\" <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.session_feedback": {
      "name": "session_feedback",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "student_satisfaction_rating": {
          "name": "student_satisfaction_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_feedback_session_id_sessions_id_fk": {
          "name": "session_feedback_session_id_sessions_id_fk",
          "tableFrom": "session_feedback",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "rating_check": {
          "name": "rating_check",
          "value": "\"session_feedback\".\"student_satisfaction_rating\" >= 1 AND \"session_feedback\".\"student_satisfaction_rating\" <= 5"
        }
      },
      "isRLSEnabled": false
    },
    "public.session_feedback_tags": {
      "name": "session_feedback_tags",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tag": {
          "name": "tag",
          "type": "feedback_tag",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_feedback_tags_session_id_sessions_id_fk": {
          "name": "session_feedback_tags_session_id_sessions_id_fk",
          "tableFrom": "session_feedback_tags",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "session_feedback_tags_session_id_tag_pk": {
          "name": "session_feedback_tags_session_id_tag_pk",
          "columns": [
            "session_id",
            "tag"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_screen_metrics": {
      "name": "session_screen_metrics",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "active_tab_focus_pct": {
          "name": "active_tab_focus_pct",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "tab_switches_count": {
          "name": "tab_switches_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "whiteboard_usage_minutes": {
          "name": "whiteboard_usage_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "messaging_app_detected": {
          "name": "messaging_app_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "gaming_detected": {
          "name": "gaming_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_screen_metrics_session_id_sessions_id_fk": {
          "name": "session_screen_metrics_session_id_sessions_id_fk",
          "tableFrom": "session_screen_metrics",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "focus_check": {
          "name": "focus_check",
          "value": "\"session_screen_metrics\".\"active_tab_focus_pct\" >= 0 AND \"session_screen_metrics\".\"active_tab_focus_pct\" <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.session_transcript_highlights": {
      "name": "session_transcript_highlights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp_seconds": {
          "name": "timestamp_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "speaker": {
          "name": "speaker",
          "type": "transcript_speaker",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "highlight_type": {
          "name": "highlight_type",
          "type": "highlight_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_transcript_highlights_session_id_sessions_id_fk": {
          "name": "session_transcript_highlights_session_id_sessions_id_fk",
          "tableFrom": "session_transcript_highlights",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session_video_metrics": {
      "name": "session_video_metrics",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "student_on_screen_attention_pct": {
          "name": "student_on_screen_attention_pct",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "student_visual_engagement_score": {
          "name": "student_visual_engagement_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "distraction_events_count": {
          "name": "distraction_events_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "confusion_moments_count": {
          "name": "confusion_moments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tutor_uses_visual_aids": {
          "name": "tutor_uses_visual_aids",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "student_taking_notes_duration": {
          "name": "student_taking_notes_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "session_video_metrics_session_id_sessions_id_fk": {
          "name": "session_video_metrics_session_id_sessions_id_fk",
          "tableFrom": "session_video_metrics",
          "tableTo": "sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "attention_check": {
          "name": "attention_check",
          "value": "\"session_video_metrics\".\"student_on_screen_attention_pct\" >= 0 AND \"session_video_metrics\".\"student_on_screen_attention_pct\" <= 1"
        }
      },
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tutor_id": {
          "name": "tutor_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_start": {
          "name": "scheduled_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "actual_start": {
          "name": "actual_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_duration": {
          "name": "scheduled_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "actual_duration": {
          "name": "actual_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_number": {
          "name": "session_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "session_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "tutor_showed_up": {
          "name": "tutor_showed_up",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "student_showed_up": {
          "name": "student_showed_up",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "rescheduled_by": {
          "name": "rescheduled_by",
          "type": "reschedule_by",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "technical_issues": {
          "name": "technical_issues",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "technical_issues_description": {
          "name": "technical_issues_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "has_audio_analysis": {
          "name": "has_audio_analysis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_video_analysis": {
          "name": "has_video_analysis",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_screen_monitoring": {
          "name": "has_screen_monitoring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "homework_assigned": {
          "name": "homework_assigned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "follow_up_booked": {
          "name": "follow_up_booked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "overall_session_score": {
          "name": "overall_session_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_tutor_id_users_id_fk": {
          "name": "sessions_tutor_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "tutor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sessions_student_id_users_id_fk": {
          "name": "sessions_student_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sessions_subject_id_subjects_id_fk": {
          "name": "sessions_subject_id_subjects_id_fk",
          "tableFrom": "sessions",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "score_check": {
          "name": "score_check",
          "value": "\"sessions\".\"overall_session_score\" >= 0 AND \"sessions\".\"overall_session_score\" <= 10"
        }
      },
      "isRLSEnabled": false
    },
    "public.student_churn_reasons": {
      "name": "student_churn_reasons",
      "schema": "",
      "columns": {
        "student_id": {
          "name": "student_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "churn_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "student_churn_reasons_student_id_users_id_fk": {
          "name": "student_churn_reasons_student_id_users_id_fk",
          "tableFrom": "student_churn_reasons",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "student_churn_reasons_student_id_reason_pk": {
          "name": "student_churn_reasons_student_id_reason_pk",
          "columns": [
            "student_id",
            "reason"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_subjects": {
      "name": "student_subjects",
      "schema": "",
      "columns": {
        "student_id": {
          "name": "student_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "student_subjects_student_id_users_id_fk": {
          "name": "student_subjects_student_id_users_id_fk",
          "tableFrom": "student_subjects",
          "tableTo": "users",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_subjects_subject_id_subjects_id_fk": {
          "name": "student_subjects_subject_id_subjects_id_fk",
          "tableFrom": "student_subjects",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "student_subjects_student_id_subject_id_pk": {
          "name": "student_subjects_student_id_subject_id_pk",
          "columns": [
            "student_id",
            "subject_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.students": {
      "name": "students",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(128)",
          "primaryKey": true,
          "notNull": true
        },
        "enrolled_since": {
          "name": "enrolled_since",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "grade_level": {
          "name": "grade_level",
          "type": "grade_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "parent_email": {
          "name": "parent_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "learning_goals": {
          "name": "learning_goals",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "student_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "churned_date": {
          "name": "churned_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "churn_survey_response": {
          "name": "churn_survey_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "students_user_id_users_id_fk": {
          "name": "students_user_id_users_id_fk",
          "tableFrom": "students",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tutor_insights": {
      "name": "tutor_insights",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tutor_id": {
          "name": "tutor_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "insight_type": {
          "name": "insight_type",
          "type": "insight_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "insight_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "display_text": {
          "name": "display_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_confirmed_at": {
          "name": "last_confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sample_sessions": {
          "name": "sample_sessions",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "metric_value": {
          "name": "metric_value",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tutor_insights_tutor_id_users_id_fk": {
          "name": "tutor_insights_tutor_id_users_id_fk",
          "tableFrom": "tutor_insights",
          "tableTo": "users",
          "columnsFrom": [
            "tutor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tutor_performance_snapshots": {
      "name": "tutor_performance_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tutor_id": {
          "name": "tutor_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_date": {
          "name": "snapshot_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_type": {
          "name": "period_type",
          "type": "snapshot_period",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "sessions_count": {
          "name": "sessions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_session_score": {
          "name": "avg_session_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_engagement_score": {
          "name": "avg_engagement_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_student_satisfaction": {
          "name": "avg_student_satisfaction",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tutor_performance_snapshots_tutor_id_users_id_fk": {
          "name": "tutor_performance_snapshots_tutor_id_users_id_fk",
          "tableFrom": "tutor_performance_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "tutor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tutor_subjects": {
      "name": "tutor_subjects",
      "schema": "",
      "columns": {
        "tutor_id": {
          "name": "tutor_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tutor_subjects_tutor_id_users_id_fk": {
          "name": "tutor_subjects_tutor_id_users_id_fk",
          "tableFrom": "tutor_subjects",
          "tableTo": "users",
          "columnsFrom": [
            "tutor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tutor_subjects_subject_id_subjects_id_fk": {
          "name": "tutor_subjects_subject_id_subjects_id_fk",
          "tableFrom": "tutor_subjects",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "tutor_subjects_tutor_id_subject_id_pk": {
          "name": "tutor_subjects_tutor_id_subject_id_pk",
          "columns": [
            "tutor_id",
            "subject_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tutors": {
      "name": "tutors",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(128)",
          "primaryKey": true,
          "notNull": true
        },
        "member_since": {
          "name": "member_since",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "experience": {
          "name": "experience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "education": {
          "name": "education",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "teaching_style": {
          "name": "teaching_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hourly_rate": {
          "name": "hourly_rate",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tutors_user_id_users_id_fk": {
          "name": "tutors_user_id_users_id_fk",
          "tableFrom": "tutors",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subjects": {
      "name": "subjects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "subject_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subjects_name_unique": {
          "name": "subjects_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(128)",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_name": {
          "name": "preferred_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.achievement_type": {
      "name": "achievement_type",
      "schema": "public",
      "values": [
        "engagement_master",
        "question_guru",
        "first_session_expert",
        "consistency_champion",
        "student_favorite",
        "rising_star"
      ]
    },
    "public.alert_severity": {
      "name": "alert_severity",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "critical"
      ]
    },
    "public.alert_type": {
      "name": "alert_type",
      "schema": "public",
      "values": [
        "high_talk_ratio",
        "low_understanding_checks",
        "student_frustration_detected",
        "poor_first_session",
        "high_reschedule_rate",
        "no_show_pattern",
        "declining_performance",
        "student_churn_risk"
      ]
    },
    "public.feedback_tag": {
      "name": "feedback_tag",
      "schema": "public",
      "values": [
        "clear_explanations",
        "patient",
        "encouraging",
        "helpful_examples",
        "good_pace",
        "too_fast",
        "too_slow",
        "didnt_check_understanding",
        "too_much_talking",
        "confusing_examples",
        "technical_issues",
        "made_learning_fun"
      ]
    },
    "public.highlight_type": {
      "name": "highlight_type",
      "schema": "public",
      "values": [
        "strong_question",
        "breakthrough",
        "confusion",
        "positive_reinforcement",
        "concern",
        "concept_explanation"
      ]
    },
    "public.transcript_speaker": {
      "name": "transcript_speaker",
      "schema": "public",
      "values": [
        "tutor",
        "student"
      ]
    },
    "public.reschedule_by": {
      "name": "reschedule_by",
      "schema": "public",
      "values": [
        "tutor",
        "student"
      ]
    },
    "public.session_status": {
      "name": "session_status",
      "schema": "public",
      "values": [
        "scheduled",
        "in_progress",
        "completed",
        "no_show_tutor",
        "no_show_student",
        "cancelled",
        "rescheduled"
      ]
    },
    "public.churn_reason": {
      "name": "churn_reason",
      "schema": "public",
      "values": [
        "poor_first_session",
        "tutor_mismatch",
        "no_progress",
        "scheduling_difficulty",
        "price_concerns",
        "technical_issues",
        "found_competitor",
        "completed_goals",
        "personal_circumstances",
        "other"
      ]
    },
    "public.grade_level": {
      "name": "grade_level",
      "schema": "public",
      "values": [
        "6th",
        "7th",
        "8th",
        "9th",
        "10th",
        "11th",
        "12th",
        "college",
        "adult"
      ]
    },
    "public.student_status": {
      "name": "student_status",
      "schema": "public",
      "values": [
        "active",
        "churned",
        "paused"
      ]
    },
    "public.insight_category": {
      "name": "insight_category",
      "schema": "public",
      "values": [
        "high_engagement",
        "low_engagement",
        "high_talk_ratio",
        "balanced_talk_ratio",
        "frequent_understanding_checks",
        "infrequent_understanding_checks",
        "strong_questioning",
        "low_visual_aids",
        "high_visual_aids",
        "positive_reinforcement",
        "first_session_expert"
      ]
    },
    "public.insight_type": {
      "name": "insight_type",
      "schema": "public",
      "values": [
        "strength",
        "growth_area",
        "achievement"
      ]
    },
    "public.snapshot_period": {
      "name": "snapshot_period",
      "schema": "public",
      "values": [
        "daily",
        "weekly"
      ]
    },
    "public.subject_category": {
      "name": "subject_category",
      "schema": "public",
      "values": [
        "math",
        "science",
        "language_arts",
        "social_studies",
        "foreign_language",
        "test_prep",
        "computer_science",
        "arts",
        "other"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "admin",
        "tutor",
        "student"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}